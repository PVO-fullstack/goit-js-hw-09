{"mappings":"gfAAA,IAOIA,EACAC,EACAC,EATJC,EAAAC,EAAA,SAEMC,EAAcC,SAASC,cAAc,SACrCC,EAAYF,SAASC,cAAc,kBACnCE,EAAaJ,EAAYE,cAAc,kBACvCG,EAAYL,EAAYE,cAAc,mBACtCI,EAAcN,EAAYE,cAAc,qBAU9C,SAASK,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAE3BC,YAAW,WACLN,EACFI,EAAQ,CAAEN,WAAUS,MAAAR,IAEpBM,EAAO,CAAEP,WAAUS,MAAAR,G,GAEpBA,E,IAfPN,EAAUe,iBAAiB,SA+C3B,SAAiBC,GACfA,EAAMC,iBA7BR,WACE,IAAK,IAAIC,EAAI,EAAGA,GAAKzB,EAAQyB,GAAK,EAAG,CAEnCd,EAAcc,EADDC,OAAO3B,IAAU0B,EAAI,GAAKC,OAAOzB,IACrB0B,MAAK,SAAAC,G,IAAGhB,EAAQgB,EAARhB,SAAUiB,EAAKD,EAALP,MAEzCnB,EAAA4B,OAAOC,QAAQ,uBAAwCC,OAAfpB,EAAS,QAAYoB,OAANH,EAAM,M,IAG5DI,OAAM,SAAAL,G,IAAGhB,EAAQgB,EAARhB,SAAUsB,EAAKN,EAALP,MAClBnB,EAAA4B,OAAOK,QAAQ,sBAAuCH,OAAfpB,EAAS,QAAYoB,OAANE,EAAM,M,KAqBlEE,E,IAhDF1B,EAAYY,iBAAiB,SAiC7B,SAAyBC,GACvBvB,EAASuB,EAAMc,OAAOC,K,IAjCxB9B,EAAWc,iBAAiB,SAoC5B,SAAwBC,GACtBxB,EAAQwB,EAAMc,OAAOC,K,IApCvB7B,EAAUa,iBAAiB,SAuC3B,SAAuBC,GACrBtB,EAAOsB,EAAMc,OAAOC,K","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst promiseForm = document.querySelector('.form');\nconst submitBtn = document.querySelector('.form > button');\nconst delayInput = promiseForm.querySelector('[name=\"delay\"]');\nconst stepInput = promiseForm.querySelector('[name = \"step\"]');\nconst amountInput = promiseForm.querySelector('[name = \"amount\"]');\nlet delay;\nlet amount;\nlet step;\n\nsubmitBtn.addEventListener('click', onClick);\namountInput.addEventListener('input', readAmountValue);\ndelayInput.addEventListener('input', readDelayValue);\nstepInput.addEventListener('input', readStepValue);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay)\n  });\n};\n\nfunction createPromises() {\n  for (let i = 1; i <= amount; i += 1) {\n    let delayN = Number(delay) + (i - 1) * Number(step);\n    createPromise(i, delayN).then(({ position, delay }) => {\n\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  }\n}\n\nfunction readAmountValue(event) {\n  amount = event.target.value;\n}\n\nfunction readDelayValue(event) {\n  delay = event.target.value;\n}\n\nfunction readStepValue(event) {\n  step = event.target.value;\n\n}\n\nfunction onClick(event) {\n  event.preventDefault();\n  createPromises();\n}\n\n\n\n"],"names":["$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$step","$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$promiseForm","document","querySelector","$ce04d3a99e08e73b$var$submitBtn","$ce04d3a99e08e73b$var$delayInput","$ce04d3a99e08e73b$var$stepInput","$ce04d3a99e08e73b$var$amountInput","$ce04d3a99e08e73b$var$createPromise","position","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","delay","addEventListener","event","preventDefault","i","Number","then","param","delay2","Notify","success","concat","catch","delay3","failure","$ce04d3a99e08e73b$var$createPromises","target","value"],"version":3,"file":"03-promises.b2ff34d5.js.map"}