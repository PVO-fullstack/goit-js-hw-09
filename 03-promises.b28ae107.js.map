{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAcC,SAASC,cAAc,SACrCC,EAAYF,SAASC,cAAc,kBACnCE,EAAaJ,EAAYE,cAAc,kBACvCG,EAAYL,EAAYE,cAAc,mBACtCI,EAAcN,EAAYE,cAAc,qBAC9C,IAAIK,EACAC,EACAC,EAOJ,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAE3BC,YAAW,KACLN,EACFI,EAAQ,C,SAAEN,EAAUS,MAAAR,IAEpBM,EAAO,C,SAAEP,EAAUS,MAAAR,GAAQ,GAE5BA,EAAM,G,CAfbT,EAAUkB,iBAAiB,SA+C3B,SAAiBC,GACfA,EAAMC,iBA7BR,WACE,IAAK,IAAIC,EAAI,EAAGA,GAAKhB,EAAQgB,GAAK,EAAG,CAEnCd,EAAcc,EADDC,OAAOlB,IAAUiB,EAAI,GAAKC,OAAOhB,IACrBiB,MAAK,EAACf,SAAEA,EAAUS,MAAAO,MAEzC7B,EAAA8B,OAAOC,QAAQ,uBAAqBlB,QAAiBgB,MAAU,IAG9DG,OAAM,EAACnB,SAAEA,EAAUS,MAAAW,MAClBjC,EAAA8B,OAAOI,QAAQ,sBAAoBrB,QAAiBoB,MAAU,G,EAqBpEE,E,IAhDF3B,EAAYe,iBAAiB,SAiC7B,SAAyBC,GACvBd,EAASc,EAAMY,OAAOC,K,IAjCxB/B,EAAWiB,iBAAiB,SAoC5B,SAAwBC,GACtBf,EAAQe,EAAMY,OAAOC,K,IApCvB9B,EAAUgB,iBAAiB,SAuC3B,SAAuBC,GACrBb,EAAOa,EAAMY,OAAOC,K","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst promiseForm = document.querySelector('.form');\nconst submitBtn = document.querySelector('.form > button');\nconst delayInput = promiseForm.querySelector('[name=\"delay\"]');\nconst stepInput = promiseForm.querySelector('[name = \"step\"]');\nconst amountInput = promiseForm.querySelector('[name = \"amount\"]');\nlet delay;\nlet amount;\nlet step;\n\nsubmitBtn.addEventListener('click', onClick);\namountInput.addEventListener('input', readAmountValue);\ndelayInput.addEventListener('input', readDelayValue);\nstepInput.addEventListener('input', readStepValue);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay)\n  });\n};\n\nfunction createPromises() {\n  for (let i = 1; i <= amount; i += 1) {\n    let delayN = Number(delay) + (i - 1) * Number(step);\n    createPromise(i, delayN).then(({ position, delay }) => {\n\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  }\n}\n\nfunction readAmountValue(event) {\n  amount = event.target.value;\n}\n\nfunction readDelayValue(event) {\n  delay = event.target.value;\n}\n\nfunction readStepValue(event) {\n  step = event.target.value;\n\n}\n\nfunction onClick(event) {\n  event.preventDefault();\n  createPromises();\n}\n\n\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$promiseForm","document","querySelector","$47d4ff9957288465$var$submitBtn","$47d4ff9957288465$var$delayInput","$47d4ff9957288465$var$stepInput","$47d4ff9957288465$var$amountInput","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$step","$47d4ff9957288465$var$createPromise","position","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","delay","addEventListener","event","preventDefault","i","Number","then","delay2","Notify","success","catch","delay3","failure","$47d4ff9957288465$var$createPromises","target","value"],"version":3,"file":"03-promises.b28ae107.js.map"}